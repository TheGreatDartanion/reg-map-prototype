<!DOCTYPE html>
<html lang="en">
    <head>
        <title>ACS Regional Meetings Map</title>

        <script>
            function onReady(callback) {
            var intervalID = window.setInterval(checkReady, 1000);

            function checkReady() {
                    //if (document.getElementsByTagName('body')[0] !== undefined) {
                    if (mapReady) {
                        window.clearInterval(intervalID);
                        callback.call(this);
                    }
                }
            }

            function show(id, value) {
                document.getElementById(id).style.display = value ? 'block' : 'none';
            }

            onReady(function () {
                show('loading', false);
                show('page-content', true);                
                map.invalidateSize();
                //zip_code_layer.redraw();
            });
        </script>
 
        <!-- D3 CDN -->
        <script src="https://d3js.org/d3.v6.min.js"></script> 

        <!-- Bootstrap CSS and JS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>

        <!-- Leaflet CSS -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin=""/>

        <!-- Leaflet JS -->
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>

        <!-- Custom CSS and JS-->
        <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">       
        <script src = "{{ url_for('static', filename='js/config.js') }}" defer></script>
        <script src = "{{ url_for('static', filename='js/app.js') }}" defer></script>

        <link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon.ico') }}">

    </head>

    <body>
        <container id='page-content'>
            <header class="d-flex bg-white border-bottom shadow-sm">
                <img src="{{ url_for('static', filename='images/acs-full-logo.png') }}" style='width: 200px;'/>
            </header>

            <div class='container'>
                <div class='row'>
                    <div class='col-md-12'>
                        <h4>Regional Meetings Map</h4>
                        <p>Placeholder text here...</p>
                        <div id='map'></div>
                    </div>
                </div>
            </div>
        </container>

        <container id="loading">
            <h4>Please wait...</h4>
            <p>The ACS Regional Meetings map is loading.</p>
            <p>This make take around 20 seconds...</p>
        </container>
    </body>    
</html>